<!DOCTYPE html>
<html lang="kor">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Intl</title>

    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet" />

    <!-- <link href="./assets/css/ia.css" type="text/css" media="all" rel="stylesheet" /> -->
  </head>
  <body>
    <!-- wrap -->
    <div id="wrap">
      <div>
        <label for="inputDate">date : </label>
        <input type="text" id="inputDate" />
        <button onclick="calculateDateDifference2()">계산</button>
        <p id="result"></p>
      </div>
      <div>
        <label for="inputDate">날짜를 입력하세요: </label>
        <input type="date" id="inputDate2">
        <button onclick="calculateDateDifference3()">계산</button>
        <p id="result2"></p>
      </div>
    </div>
    <!-- //wrap -->

    <!-- outland -->
    <div id="outland"></div>
    <!-- //outland -->

    <script>
      // 날짜 차이 계산 1
      function calculateDateDifference(inputDate) {
        // 현재 날짜를 얻습니다.
        const today = new Date();

        // 입력한 날짜를 파싱합니다.
        const input = new Date(inputDate);

        // 날짜 차이를 계산합니다.
        const timeDifference = input.getTime() - today.getTime();

        // 차이를 일 단위로 변환합니다.
        const dayDifference = Math.floor(timeDifference / (1000 * 60 * 60 * 24));

        return dayDifference;
      }
      // 테스트를 위해 오늘로부터 3일 뒤의 날짜를 구합니다.
      const futureDate = new Date();
      futureDate.setDate(futureDate.getDate() + 3);
      // 함수 호출
      const difference = calculateDateDifference(futureDate);
      console.log(`오늘과 입력한 날짜의 차이는 ${difference}일 입니다.`);


      // 날짜 차이 계산 2
      function calculateDateDifference2() {
        // 입력한 날짜를 얻습니다.
        const inputDateElement = document.getElementById("inputDate");
        const inputDateValue = inputDateElement.value;
        // 현재 날짜를 얻습니다.
        const today = new Date();
        today.setHours(0, 0, 0, 0);  // 시간을 00:00:00으로 설정
        // 입력한 날짜를 파싱합니다.
        const input = new Date(inputDateValue);
        // 날짜가 올바르게 파싱되었는지 확인합니다.
        if (isNaN(input.getTime())) {
          alert("올바른 날짜 형식을 입력하세요 (YYYY-MM-DD).");
          return;
        }
        // 날짜 차이를 계산합니다.
        const timeDifference = input.getTime() - today.getTime();
        // 차이를 일 단위로 변환합니다.
        const dayDifference = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
        // 결과를 출력합니다.
        const resultElement = document.getElementById("result");
        resultElement.innerHTML = `오늘과 입력한 날짜의 차이는 ${dayDifference}일 입니다.`;
      }

      // 날짜 차이 계산 3
      function calculateDateDifference3() {
        // 입력한 날짜를 얻습니다.
        const inputDateElement = document.getElementById("inputDate2");
        const inputDateValue = inputDateElement.value;

        // 현재 날짜를 얻습니다.
        const today = new Date();
        today.setHours(0, 0, 0, 0);  // 시간을 00:00:00으로 설정
        
        // 입력한 날짜를 파싱합니다.
        const input = new Date(inputDateValue);

        // 날짜 차이를 계산합니다.
        const timeDifference = input.getTime() - today.getTime();

        // 차이를 일 단위로 변환합니다.
        const dayDifference = Math.floor(timeDifference / (1000 * 60 * 60 * 24));

        // 결과를 출력합니다.
        const resultElement = document.getElementById("result2");
        resultElement.innerHTML = `오늘과 입력한 날짜의 차이는 ${dayDifference}일 입니다.`;
      }









      //  숫자 0 제거
      // function _setLeftZeroRemove(vValue) {
      //   var vVal = vValue;

      //   if (vVal.length > 1) {
      //     vVal = vVal.replace(/(^0+)/, "");

      //     if (vVal.length == 0) {
      //       vVal = 0;
      //     }
      //   }

      //   return vVal;
      // }
      // const future = new Date(2037, 10, 19, 15, 23);
      // console.log(+future); // 2142274980000

      // const calcDaysPassed = (date1, date2) => Math.abs(date2 - date1) / (1000 * 60 * 60 * 24);
      // // 1000 million seconds * 60 seconds * 60 mins * 24 hrs

      // let data = "2023-10-26".split("-");
      // let data2 = "2023-10-26".split("-");
      // const days1 = calcDaysPassed(new Date(2037, 3, 4), new Date(2037, 3, 14));
      // const days1 = calcDaysPassed(new Date(data2[0], data2[1], data2[2]), new Date(data[0], data[1], data[2]));
      // console.log(days1); // 10

      // const formatMovementDate = function (date) {
      //   const calcDaysPassed = (date1, date2) => Math.round(Math.abs(date2 - date1) / (1000 * 60 * 60 * 24));

      //   const daysPassed = calcDaysPassed(new Date(), date);

      //   if (daysPassed === 0) return "Today";
      //   if (daysPassed === 1) return "Yesterday";
      //   if (daysPassed <= 7) return `${daysPassed} days ago`;
      //   else {
      //     const day = `${date.getDate()}`.padStart(2, 0);
      //     const month = `${date.getMonth() + 1}`.padStart(2, 0);
      //     const year = date.getFullYear();
      //     return `${day}/${month}/${year}`;
      //   }
      // };

      // new Intl.DateTimeFormat("fr-CA", {year: "numeric", month: "2-digit", day: "2-digit"}).format(Date.now())
      // yyyy-mm-dd

      const koDate1 = new Intl.DateTimeFormat("ko", { dateStyle: "full" });
      const koDate2 = new Intl.DateTimeFormat("ko", { dateStyle: "long" });
      const koDate3 = new Intl.DateTimeFormat("ko", { dateStyle: "medium" });
      const koDate4 = new Intl.DateTimeFormat("ko", { dateStyle: "short" });
      let result = koDate3.format(new Date());
      console.log(result);

      const koTime1 = new Intl.DateTimeFormat("ko", { timeStyle: "full" });
      const koTime2 = new Intl.DateTimeFormat("ko", { timeStyle: "long" });
      const koTime3 = new Intl.DateTimeFormat("ko", { timeStyle: "medium" });
      const koTime4 = new Intl.DateTimeFormat("ko", { timeStyle: "short" });
      let result2 = koTime3.format(new Date());
      console.log(result2);

      console.log(new Intl.ListFormat("en").format(["a", "b", "Chrome", "Safari", "Firefox"]));
      console.log(new Intl.ListFormat("ko").format(["크롬", "사파리", "파이어폭스"]));
      console.log(new Intl.ListFormat("en", { type: "disjunction" }).format(["a", "b", "Chrome", "Safari", "Firefox"]));
      console.log(new Intl.ListFormat("ko", { type: "disjunction" }).format(["크롬", "사파리", "파이어폭스"]));

      console.log(new Intl.NumberFormat("ko", { style: "percent" }).format(0.7));
      console.log(new Intl.NumberFormat("ko", { style: "percent" }).format(1 / 4));
      console.log(new Intl.NumberFormat("ko", { style: "currency", currency: "KRW" }).format(9000000000));
      console.log(new Intl.NumberFormat("ko", { style: "currency", currency: "USD" }).format(9000000000));
      console.log(new Intl.NumberFormat("ko", { style: "unit", unit: "kilogram" }).format(60));
      console.log(new Intl.NumberFormat("ko", { style: "unit", unit: "pound" }).format(110));

      let pr = new Intl.PluralRules("en");
      console.log(pr.select(0));
      console.log(pr.select(1));
      console.log(pr.select(2));
      console.log(pr.select(3));
      let pr2 = new Intl.PluralRules("en", { type: "ordinal" });
      console.log(pr2.select(0));
      console.log(pr2.select(1));
      console.log(pr2.select(2));
      console.log(pr2.select(3));
      console.log(pr2.select(4));
      console.log(pr2.select(5));

      let rtf = new Intl.RelativeTimeFormat("ko", { numeric: "auto" });
      console.log(rtf.format(-3, "day"));
      console.log(rtf.format(-2, "day"));
      console.log(rtf.format(-1, "day"));
      console.log(rtf.format(0, "day"));
      console.log(rtf.format(1, "day"));
      console.log(rtf.format(1, "week"));
      console.log(rtf.format(1, "month"));
    </script>
  </body>
</html>
